# CompliancePulse Production Configuration Template
# Copy to .env and set strong, environment-specific values.

# Core runtime
ENVIRONMENT=production

# Database URL (REQUIRED)
# e.g. postgresql+psycopg://user:password@db:5432/compliancepulse
DB_URL=

# Security secrets (REQUIRED)
# Use long, random values. Do NOT reuse across environments.
SESSION_SECRET_KEY=
API_KEY_HASH_SALT=
STRIPE_WEBHOOK_SECRET=

# CORS
# Comma-separated allowed origins (e.g., https://app.example.com,https://admin.example.com)
ALLOWED_ORIGINS=

# Directories (container paths)
DATA_DIR=/app/data
LOGS_DIR=/app/logs
ARTIFACTS_DIR=/app/artifacts
FRONTEND_TEMPLATES=/app/frontend/templates
FRONTEND_STATIC=/app/frontend/static

# Sessions
SESSION_COOKIE_NAME=cp_session
SESSION_MAX_AGE=604800
SESSION_BACKEND=memory
SESSION_SECURE_COOKIE=true
CSRF_HEADER_NAME=X-CSRF-Token

# Security/rate limits
SECURITY_LOG_LEVEL=INFO
SECURITY_TEST_MODE=0
ALLOWED_COMMANDS=cat,grep,rpm,dpkg,stat,systemctl,test
MAX_SCAN_RUNTIME_PER_JOB=900
MAX_CONCURRENT_JOBS_PER_ORG=3
API_KEY_RATE_LIMIT=1000
API_KEY_RATE_WINDOW_SECONDS=3600

# Optional Redis for sessions/rate-limiting
REDIS_URL=

# Web workers (Uvicorn workers for API process)
WEB_CONCURRENCY=2

# Release tagging/push (optional)
# REGISTRY example: ghcr.io/your-org
REGISTRY=
IMAGE_REPO=compliancepulse-backend

